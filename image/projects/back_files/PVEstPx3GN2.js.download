;/*FB_PKG_DELIM*/

__d("PolarisFavoritesModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({isOpen:!1,toggleOpen:c("emptyFunction")});e=b;g["default"]=e}),98);
__d("usePolarisIsTallDevice",["usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h=16/9;function a(){var a=c("usePolarisDisplayProperties")(),b=a.viewportHeight;a=a.viewportWidth;return b/a>h}g["default"]=a}),98);
__d("PolarisStoryMediaLayout.react",["cx","invariant","PolarisReactRedux","PolarisResponsiveBlock.react","PolarisStoriesContext","PolarisUA","react","usePolarisIsTallDevice"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useMemo;var l=b.unstable_useMemoCache,m=1.3,n=1;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={height:0,width:0},c.$2=function(a,b){var d=c.props.intrinsicDimensions,e=c.$1()?n:m;a=a;b=b;var f=a/b;d=d.width/d.height;f/d>e||d/f>e?f>d?a=b*d:b=a/d:f>d?b=a/d:a=b*d;c.setState({height:b,width:a});c.context.updateStoriesContext({mediaDimensions:{height:b,width:a}})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this.props.isTallDevice;return a&&d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.children;a=a.style;typeof b==="function"||i(0,51418);var e=this.state,f=e.height;e=e.width;var g=null;if(e!==0&&f!==0){var h={className:"_aa63",layoutHeight:f,layoutWidth:e};g=k.jsx("div",{className:"_aa64",style:{height:f,width:e},children:b(h)})}return k.jsx(c("PolarisResponsiveBlock.react"),{className:"_aa65"+(d("PolarisUA").isDesktop()?" _aa66":""),onResize:this.$2,style:a,children:g})};return b}(k.Component);e.contextType=d("PolarisStoriesContext").StoriesContext;function a(){var a=l(2),b=c("usePolarisIsTallDevice")(),d;a[0]!==b?(d={isTallDevice:b},a[0]=b,a[1]=d):d=a[1];b=d;return b}f=d("PolarisReactRedux").connectHooks(a)(e);g["default"]=f}),98);
__d("PolarisStoryMediaPrefetcher.react",["cx","PolarisMediaPrefetchContainer.react","PolarisMediaPrefetcher.react","PolarisReactRedux","PolarisStoryMediaLayout.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.unstable_useMemoCache,l="storyMedia";function m(){return function(a,b){if(d("polarisStorySelectors").isReelItemExpired(a.expiringAt,b))return null;b=Boolean(a.src!=null&&a.dimensions!=null);return b&&a.isVideo===!1&&a.displayResources?{id:a.id,intrinsicDimensions:c("nullthrows")(a.dimensions),src:c("nullthrows")(a.src),srcSet:c("nullthrows")(a.displayResources),type:d("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE}:null}}function n(a){var b=k(5),d=a.children;a=a.resource;var e;b[0]!==d?(e=function(a){a=a.className;return j.jsx("div",{className:a,children:d})},b[0]=d,b[1]=e):e=b[1];var f;b[2]!==a.intrinsicDimensions||b[3]!==e?(f=j.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:a.intrinsicDimensions,children:e}),b[2]=a.intrinsicDimensions,b[3]=e,b[4]=f):f=b[4];return f}function a(a){var b=k(10),e=a.prefetchContext;b[0]!==e?(a=function(a){return d("polarisStorySelectors").getPrefetchablePostIds(a,e)},b[0]=e,b[1]=a):a=b[1];a=d("PolarisReactRedux").useSelector(a);var f=d("PolarisReactRedux").useDispatch(),g;b[2]!==e||b[3]!==f?(g=function(){e==="feed"&&f({type:"FEED_PAGE_STORY_PREFETCH_COMPLETE"})},b[2]=e,b[3]=f,b[4]=g):g=b[4];g=g;var h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aag2",b[5]=h):h=b[5];var i;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=m(),b[6]=i):i=b[6];a=a.toArray();b[7]!==g||b[8]!==a?(h=j.jsx("div",{className:h,children:j.jsx(c("PolarisMediaPrefetchContainer.react"),{getResourceFromPost:i,layoutWrapper:n,onLoadComplete:g,postIds:a,viewKey:l})}),b[7]=g,b[8]=a,b[9]=h):h=b[9];return h}g["default"]=a}),98);